<!DOCTYPE html><html><head><meta charset="utf-8"><title>BarnLights Playbox</title><style>:root { --gap: 20px; }
    body { font: 14px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 20px; color:#111; }
    h1 { margin: 0 0 8px; font-size: 20px; }
    .row { display:flex; flex-direction:column; gap: var(--gap); align-items:flex-start; margin: 6px 0; }
    label { display:flex; align-items:center; gap:8px; min-width: 220px; }
    input[type="range"] { width: 180px; }
    select { padding: 4px 6px; }
    fieldset { border:1px solid #ccc; padding:10px 14px; margin:0; }
    legend { padding:0 6px; font-weight:bold; }
    .desc { font-size:12px; color:#555; }
    .barn { display:flex; gap: 32px; perspective: 900px; margin:16px auto; justify-content:center; }
    canvas { width: 512px; height: 128px; image-rendering: pixelated; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,.25); background:#000; }
    #left { transform: rotateY(15deg) skewY(-2deg); }
    #right{ transform: rotateY(-15deg) skewY(2deg);  }
    .panel { display:flex; flex-direction:row; gap:var(--gap); align-items:flex-start; flex-wrap:wrap; }
    .presetRow { display:flex; flex-direction:row; gap:10px; overflow-x:auto; }
    .presetItem { display:flex; flex-direction:column; align-items:center; cursor:pointer; position:relative; }
    .presetItem img { width:96px; height:48px; object-fit:cover; border:1px solid #ccc; border-radius:4px; }
    .presetName { margin-top:4px; }
    .deleteBtn {
      position:absolute; top:2px; right:2px; width:20px; height:20px; padding:0;
      background:rgba(255,255,255,0.9); border:1px solid #999; border-radius:3px;
      cursor:pointer; font-size:16px; line-height:1; opacity:0; transition:opacity 0.2s;
    }
    .presetItem:hover .deleteBtn { opacity:1; }
    .deleteBtn:hover { background:#ff4444; color:white; border-color:#cc0000; }
    .hslider { width:180px; height:20px; position:relative; border:1px solid #ccc; border-radius:10px; background:#f3f3f3; touch-action:none; }
    .hslider .handle { position:absolute; width:12px; height:12px; border-radius:50%; background:#666; top:50%; transform:translate(-50%,-50%); left:50%; }</style><link rel="stylesheet" href="/vendor/grapick/dist/grapick.min.css"><script src="/vendor/grapick/dist/grapick.min.js"></script></head><body><h1>BarnLights Playbox</h1><div id="status"></div><div id="root"><div class="barn"><canvas id="left" width="512" height="128"></canvas><canvas id="right" width="512" height="128"></canvas></div><div class="panel"><fieldset><legend>Presets</legend><div class="row"><div class="presetRow"><div class="presetItem"><img src="/preset/preview/AliceTechno" alt="AliceTechno"><div class="presetName">AliceTechno</div><button class="deleteBtn" aria-label="Delete AliceTechno">×</button></div><div class="presetItem"><img src="/preset/preview/matrix" alt="matrix"><div class="presetName">matrix</div><button class="deleteBtn" aria-label="Delete matrix">×</button></div><div class="presetItem"><img src="/preset/preview/noise" alt="noise"><div class="presetName">noise</div><button class="deleteBtn" aria-label="Delete noise">×</button></div><div class="presetItem"><img src="/preset/preview/rainbow" alt="rainbow"><div class="presetName">rainbow</div><button class="deleteBtn" aria-label="Delete rainbow">×</button></div><div class="presetItem"><img src="/preset/preview/spinnyCircus" alt="spinnyCircus"><div class="presetName">spinnyCircus</div><button class="deleteBtn" aria-label="Delete spinnyCircus">×</button></div><div class="presetItem"><img src="/preset/preview/spinnyCircus2" alt="spinnyCircus2"><div class="presetName">spinnyCircus2</div><button class="deleteBtn" aria-label="Delete spinnyCircus2">×</button></div><div class="presetItem"><img src="/preset/preview/twoSolidColours" alt="twoSolidColours"><div class="presetName">twoSolidColours</div><button class="deleteBtn" aria-label="Delete twoSolidColours">×</button></div></div><div style="display: flex; gap: 8px; align-items: center;"><input placeholder="name" value=""><button>Save</button></div></div></fieldset><fieldset><legend>Effect</legend><div class="row"><label>Effect<select><option value="gradient">Gradient</option><option value="solid">Solid</option><option value="noise">Noise</option><option value="digitalRain">Digital Rain</option><option value="diagonalStripes">Diagonal Stripes</option><option value="gif">GIF</option></select></label></div><div class="row"><label>GIF File<select><option value="">-- Select GIF --</option><option value="config/gifs/0c62281a8d8754a7.gif">0c62281a8d8754a7.gif</option><option value="config/gifs/1cbc5eff7bc50845.gif">1cbc5eff7bc50845.gif</option><option value="config/gifs/fire.gif">fire.gif</option></select><button style="margin-left: 4px;">↻</button></label><label>Speed<input type="range" min="0.1" max="5" step="0.1" value="1"><span>1</span></label></div></fieldset><fieldset><legend>General</legend><div class="row"><label>Brightness<input type="range" min="0" max="1" step="0.01" value="0.8"><span>0.8</span><input type="checkbox" title="Persist brightness"></label><label>Gamma<input type="range" min="0.5" max="3" step="0.01" value="1"><span>1</span><input type="checkbox" title="Persist gamma"><small class="desc">brightness curve</small></label><label>FPS cap<input type="range" min="1" max="60" step="1" value="60"><span>60</span><input type="checkbox" title="Persist FPS cap"></label><label>Render mode<select><option value="duplicate">duplicate</option><option value="extended">extended</option><option value="mirror">mirror</option></select><input type="checkbox" title="Persist render mode"></label></div><div class="row"><button>Reboot Left</button><button>Reboot Right</button></div></fieldset><fieldset><legend>Orientation</legend><div class="row"><label>Pitch<div class="hslider"><div class="handle" style="left: 50%;"></div></div><input type="number" min="0" max="360" step="0.1" value="0.0" style="width: 60px;"></label><label>Yaw<div class="hslider"><div class="handle" style="left: 50%;"></div></div><input type="number" min="0" max="360" step="0.1" value="0.0" style="width: 60px;"></label></div></fieldset><fieldset><legend>Strobe</legend><div class="row"><label>Strobe Hz<input type="range" min="0" max="20" step="0.1" value="0"><span>0</span></label><label>Duty<input type="range" min="0" max="1" step="0.01" value="0.5"><span>0.5</span><small class="desc">on-time %</small></label><label>Low<input type="range" min="0" max="1" step="0.01" value="0"><span>0</span><small class="desc">min brightness</small></label></div></fieldset><fieldset><legend>Tint</legend><div class="row"><label>Tint R<input type="range" min="0" max="1" step="0.01" value="1"><span>1</span></label><label>Tint G<input type="range" min="0" max="1" step="0.01" value="1"><span>1</span></label><label>Tint B<input type="range" min="0" max="1" step="0.01" value="1"><span>1</span></label></div></fieldset></div></div><script src="/bundle.js"></script></body></html>